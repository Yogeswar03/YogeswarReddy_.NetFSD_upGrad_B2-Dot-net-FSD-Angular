<!DOCTYPE html>
<html>
<head>
    <title>Live Form Validation</title>
</head>
<body>

    <h2>Registration Form</h2>
    <label>Name:</label>
    <input type="text" id="name" onchange="validateName()">
    <p id="nameError" style="color:red;"></p>

    <label>Email:</label>
    <input type="text" id="email" onchange="validateEmail()">
    <p id="emailError" style="color:red;"></p>

    <label>Age:</label>
    <input type="number" id="age" onchange="validateAge()">
    <p id="ageError" style="color:red;"></p>

    <br>
    <button onclick="submitForm()">Register</button>

    <p id="successMessage" style="color:green;"></p>

    <script>
        function validateName() {
            var nameValue = document.getElementById("name").value;

            if (nameValue.trim() === "") {
                document.getElementById("nameError").innerHTML = "Name cannot be empty";
                return false;
            } else {
                document.getElementById("nameError").innerHTML = "";
                return true;
            }
        }

        function validateEmail() {
            var emailValue = document.getElementById("email").value;

            if (emailValue.indexOf("@") === -1) {
                document.getElementById("emailError").innerHTML = "Email must contain '@'";
                return false;
            } else {
                document.getElementById("emailError").innerHTML = "";
                return true;
            }
        }

        function validateAge() {
            var ageValue = document.getElementById("age").value;

            if (ageValue <= 18) {
                document.getElementById("ageError").innerHTML = "Age must be greater than 18";
                return false;
            } else {
                document.getElementById("ageError").innerHTML = "";
                return true;
            }
        }

        function submitForm() {

            var isNameValid = validateName();
            var isEmailValid = validateEmail();
            var isAgeValid = validateAge();

            if (isNameValid && isEmailValid && isAgeValid) {

                sessionStorage.setItem("userName", document.getElementById("name").value);
                sessionStorage.setItem("userEmail", document.getElementById("email").value);
                sessionStorage.setItem("userAge", document.getElementById("age").value);

                document.getElementById("successMessage").innerHTML = "Registration Successful!";
            } else {
                document.getElementById("successMessage").innerHTML = "";
            }
        }
    </script>

</body>
</html>